<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test login</title>
</head>
<body>
    <a href="http://localhost:8080/login/websiteCode">Login</a>
    <div id="username"></div>
</body>
<script>
    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const t = urlParams.get('t')

    if (urlParams.has('t') && localStorage.getItem("token") == null){
        fetch("http://localhost:8080/time/" + t)
            .then((response) => response.text())
            .then((data) => {
                localStorage.setItem("token", data)
            });
    }
    document.getElementById("username").innerText = localStorage.getItem("token")
</script>
</html>